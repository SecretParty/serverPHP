{% extends 'SecretPartyCoreBundle:Admin:template.html.twig' %}

{% block title %}Thematic edit {{ entity.name }}{% endblock %}
{% block section %}Thematic{% endblock %}
{% block content -%}
<div class="module_content">

    {{ form_start(edit_form) }}
    {{ form_row(edit_form.name) }}
    <h3>Secrets</h3>
    <ul class="secrets" data-prototype="{{ form_widget(edit_form.secrets.vars.prototype)|e }}">
        {# iterate over each existing secret #}
        {% for secret in edit_form.secrets %}
            <li class="secret"><div>{{ form_row(secret.name) }}</div>
                <div>{{ form_row(secret.indication) }}</div></li>
        {% endfor %}
    </ul>
    {%  do edit_form.secrets.setRendered %}
    {{ form_end(edit_form) }}
</div>
{% endblock %}

{% block end_header %}
    <ul class="tabs">
        <li><a href="{{ path('admin_thematic') }}">
                Back
            </a></li>
        <li>{{ form(delete_form) }}</li>
    </ul>
{% endblock %}

{% block end_js %}
    <script src="{{ asset('bundles/secretpartycore/js/collection.js') }}" type="text/javascript"></script>
{% endblock %}
